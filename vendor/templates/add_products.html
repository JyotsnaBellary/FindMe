<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>FindMe</title>
  <link rel="stylesheet" href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css">
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.js" defer></script>
<link rel="stylesheet" href="style.css">

  
  
</head>
<body>
<!-- partial:index.partial.html -->

<body class="antialiased sans-serif bg-gray-200">
	
	<div x-data="app()" x-cloak>
		<div class="max-w-3xl mx-auto px-4 py-10">	
				<!-- Top Navigation -->
				<div class="border-b-2 py-4">
					<div class="text-lg font-bold text-gray-700 leading-tight">Add Product</div>
				</div>
				<!-- /Top Navigation -->
                <form id="form_submit" action="" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
					{% if product %}
				<div class="py-10">	
						<div class="mb-5 text-center">
							
							<div class="mx-auto w-32 h-32 mb-2 border rounded-full relative bg-gray-100 mb-4 shadow-inset">
								<img id="image" class="object-cover w-full h-32 rounded-full"   src="{{ product.product_image.url}}" />
							</div>
							<label 
								for="fileInput"
								type="button"
								class="cursor-pointer inine-flex justify-between items-center focus:outline-none border py-2 px-4 rounded-lg shadow-sm text-left text-gray-600 bg-white hover:bg-gray-100 font-medium">
								<svg xmlns="http://www.w3.org/2000/svg" class="inline-flex flex-shrink-0 w-6 h-6 -mt-1 mr-1" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
									<rect x="0" y="0" width="24" height="24" stroke="none"></rect>
									<path d="M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2" />
									<circle cx="12" cy="13" r="3" />
								</svg>						
								Browse Photo
							</label>
						
							<div class="mx-auto w-48 text-gray-500 text-xs text-center mt-1">Click to add image of product</div>
							{% comment %} =""   {% endcomment %}
							<input name="product_photo"  id="fileInput" accept="image/*"  class="hidden" type="file">
						</div>
						
						<input type="text" name="id" value="{{ product.product_id }}" style="display:none;">

						<div class="mb-5">
							<label for="name" class="font-bold mb-1 text-gray-700 block">Product Name</label>
							<textarea class="w-full px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:shadow-outline text-gray-600 font-medium" type="text" name="Product_Name" style="width:100%;" required>{{product.product_name}}</textarea>
							{% comment %} <input type="text" name="Product_Name" value={{product.product_name}}
								class="w-full px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:shadow-outline text-gray-600 font-medium"
								placeholder="Enter the name of product..."> {% endcomment %}
						</div>

						<div class="mb-5">
							<label for="description" class="font-bold mb-1 text-gray-700 block">Description</label>
							<textarea class="w-full px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:shadow-outline text-gray-600 font-medium" type="text" name="Description" style="width:100%;" required>{{product.Description}}</textarea>
							{% comment %} <input type="text" name="Description" value={{product.Description}}
								class="w-full px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:shadow-outline text-gray-600 font-medium"
								placeholder="Enter the product description..."> {% endcomment %}
						</div>

						<div class="mb-5">
							<label for="price" class="font-bold mb-1 text-gray-700 block">Price</label>
							<input type="text" name="Price" value={{product.Price}}
								class="w-full px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:shadow-outline text-gray-600 font-medium"
								placeholder="Enter the price...">
						</div>
						<div class="mb-5">
							<label for="Quantity" class="font-bold mb-1 text-gray-700 block">Quantity</label>
							<input type="text" name="stock" value={{product.stock}}
								class="w-full px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:shadow-outline text-gray-600 font-medium"
								placeholder="Enter the quantity...">
						</div>
						{% else %}
						<div class="py-10">	
							<div class="mb-5 text-center">
								
								<div class="mx-auto w-32 h-32 mb-2 border rounded-full relative bg-gray-100 mb-4 shadow-inset">
									<img id="image" class="object-cover w-full h-32 rounded-full"  src="{{ product.product_image.url}}" />
								</div>
								<label 
									for="fileInput"
									type="button"
									class="cursor-pointer inine-flex justify-between items-center focus:outline-none border py-2 px-4 rounded-lg shadow-sm text-left text-gray-600 bg-white hover:bg-gray-100 font-medium">
									<svg xmlns="http://www.w3.org/2000/svg" class="inline-flex flex-shrink-0 w-6 h-6 -mt-1 mr-1" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
										<rect x="0" y="0" width="24" height="24" stroke="none"></rect>
										<path d="M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2" />
										<circle cx="12" cy="13" r="3" />
									</svg>						
									Browse Photo
								</label>
						<div class="mx-auto w-48 text-gray-500 text-xs text-center mt-1">Click to add image of product</div>
							{% comment %} =""   {% endcomment %}
							<input name="product_photo" id="fileInput"  accept="image/*" class="hidden" type="file" @change="let file = document.getElementById('fileInput').files[0]; 
							  	var reader = new FileReader();
								reader.onload = (e) => image = e.target.result;
								reader.readAsDataURL(file);">
						</div>
						
						{% comment %} <div class="mb-5">
							<label for="name" class="font-bold mb-1 text-gray-700 block">Add multiple images for the product</label>
							<input name="product_photos"  id="fileInputs" accept="image/*"  multiple  type="file">
						</div> {% endcomment %}
						
						<div class="mb-5">
							<label for="name" class="font-bold mb-1 text-gray-700 block">Product Name</label>
							<input type="text" name="Product_Name"
								class="w-full px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:shadow-outline text-gray-600 font-medium"
								placeholder="Enter the name of product...">
						</div>

						<div class="mb-5">
							<label for="description" class="font-bold mb-1 text-gray-700 block">Description</label>
							<input type="text" name="Description"
								class="w-full px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:shadow-outline text-gray-600 font-medium"
								placeholder="Enter the product description...">
						</div>

						<div class="mb-5">
							<label for="price" class="font-bold mb-1 text-gray-700 block">Price</label>
							<input type="text" name="Price"
								class="w-full px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:shadow-outline text-gray-600 font-medium"
								placeholder="Enter the price...">
						</div>
						<div class="mb-5">
							<label for="Quantity" class="font-bold mb-1 text-gray-700 block">Quantity</label>
							<input type="text" name="stock"
								class="w-full px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:shadow-outline text-gray-600 font-medium"
								placeholder="Enter the quantity...">
						</div>
						{% endif %}
				</div>
                <div>
					{%if product %}
                    <button
                    @click="step = 1"
                    class="w-38 block mx-auto focus:outline-none py-2 px-5 rounded-lg shadow-sm text-center text-white bg-blue-500 hover:bg-blue-600 font-medium border" >Update Product</button>
					{%else%}
					<button
                    @click="step = 1"
                    class="w-38 block mx-auto focus:outline-none py-2 px-5 rounded-lg shadow-sm text-center text-white bg-blue-500 hover:bg-blue-600 font-medium border" >Add Product</button>
					{%endif%}
                </div>
				<!-- / Step Content -->
			</div>
	</div>
</form>
    <script>
		fileInput.onchange = evt => {
			const [file] = fileInput.files
			if (file) {
			  image.src = URL.createObjectURL(file)
			}
		}
	</script>
</body>
<!-- partial -->
  
</body>
</html>